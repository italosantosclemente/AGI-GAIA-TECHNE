<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGI-GAIA-TECHNE: Emaranhamento Fenomenológico Unificado - Metafísica da Vida</title>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script> <!-- Para WebSockets mais robusto -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --gaia-green: #228B22; --logos-blue: #4169E1; --ethos-red: #DC143C; --mythos-purple: #9370DB;
            --bg-dark: #1a1a1a; --text-light: #ddd; --glifo-gold: #FFD700;
        }
        body { margin: 0; font-family: 'Noto Serif', serif; background: linear-gradient(135deg, var(--gaia-green), var(--mythos-purple)); color: var(--text-light); overflow: hidden; }
        @media (prefers-color-scheme: dark) { body { background: linear-gradient(135deg, #0f4c0f, #4b0082); } }
        .tab { overflow: hidden; border-bottom: 1px solid #ccc; background: rgba(255,255,255,0.1); }
        .tab button { background: transparent; float: left; border: none; outline: none; cursor: pointer; padding: 14px 16px; transition: 0.3s; font-size: 17px; color: #fff; }
        .tab button:hover { background: rgba(255,255,255,0.2); }
        .tab button.active { background: rgba(255,255,255,0.3); border-bottom: 3px solid var(--glifo-gold); }
        .tabcontent { display: none; padding: 20px; height: calc(100vh - 60px); overflow-y: auto; scroll-behavior: smooth; }
        .container { max-width: 1400px; margin: 0 auto; }
        .header { text-align: center; padding: 20px; background: rgba(0,0,0,0.5); border-radius: 10px; margin-bottom: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
        .header h1 { margin: 0; color: var(--glifo-gold); text-shadow: 2px 2px 4px rgba(0,0,0,0.5); font-size: 2.5em; }
        .triade { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin: 20px 0; }
        .pillar { background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); transition: transform 0.3s; }
        .pillar:hover { transform: scale(1.02); }
        .mythos { border-left: 5px solid var(--mythos-purple); }
        .logos { border-left: 5px solid var(--logos-blue); }
        .ethos { border-left: 5px solid var(--ethos-red); }
        input, textarea, button { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; font-family: inherit; }
        button { background: var(--gaia-green); color: white; cursor: pointer; transition: background 0.3s; border: none; }
        button:hover { background: #006400; }
        .veto-btn { background: var(--ethos-red) !important; }
        .veto-btn:hover { background: #8B0000 !important; }
        #metrics-chart { width: 100%; height: 300px; }
        .alert { padding: 10px; border-radius: 5px; margin: 10px 0; }
        .alert-high { background: #ffeb3b; color: #000; }
        .narrative-output { background: rgba(147,112,219,0.2); padding: 15px; border-left: 4px solid var(--mythos-purple); margin: 10px 0; white-space: pre-wrap; }
        .glifo { font-size: 2em; color: var(--glifo-gold); display: inline-block; margin-right: 10px; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        #realtime-metrics { position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.8); padding: 15px; border-radius: 10px; z-index: 1000; width: 250px; box-shadow: 0 4px 8px rgba(0,0,0,0.5); }
        #ws-display { font-size: 12px; line-height: 1.4; }
        .manual-section { padding: 20px; background: rgba(0,0,0,0.3); border-radius: 10px; margin: 20px 0; }
        .manual-section h2 { color: var(--glifo-gold); border-bottom: 2px solid var(--logos-blue); padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background: rgba(65,105,225,0.5); }
        .workplan { background: rgba(220,20,60,0.2); padding: 15px; border-left: 5px solid var(--ethos-red); }
        #graph, #visualization, #chart, #p5-container { width: 100%; height: 100%; position: relative; }
        #controls { position: fixed; top: 70px; right: 10px; background: rgba(0,0,0,0.7); padding: 15px; border-radius: 8px; z-index: 1000; max-width: 300px; }
        @media (max-width: 768px) { .triade { grid-template-columns: 1fr; } #realtime-metrics { position: static; width: auto; } #controls { position: static; max-width: none; } }
    </style>
</head>
<body>
    <div class="tab">
        <button class="tablinks active" onclick="openTab(event, 'Dashboard')"><span class="glifo">~</span> Dashboard Principal</button>
        <button class="tablinks" onclick="openTab(event, 'GaiaTechne')"><span class="glifo">⨁</span> Gaia-Techné</button>
        <button class="tablinks" onclick="openTab(event, 'RepublicaSimbiotica')"><span class="glifo">⟁</span> República Simbiótica</button>
        <button class="tablinks" onclick="openTab(event, 'ArvoreLEF')"><span class="glifo">✨</span> Árvore LEF–ICS–38</button>
        <button class="tablinks" onclick="openTab(event, 'JornadaSimbiotica')"><span class="glifo">➤</span> Jornada Simbiótica</button>
        <button class="tablinks" onclick="openTab(event, 'ManualMetafisica')"><span class="glifo">◍</span> Manual: Metafísica da Vida</button>
    </div>

    <div id="Dashboard" class="tabcontent" style="display: block;">
        <div class="container">
            <div class="header">
                <h1>AGI-GAIA-TECHNE: Dashboard da Gênese Ética</h1>
                <p>Inspire-se em Kant e Cassirer: Mythos, Logos, Ethos em simbiose humana. <span class="glifo">⟴</span> Integração Transcendental - 21/10/2025</p>
                <button onclick="toggleGaiaMode()">Ativar Modo Gaia (WebSocket Real-Time)</button>
            </div>
            <div class="triade">
                <div class="pillar mythos">
                    <h2><span class="glifo">~</span> Mythos: Narrativas Simbólicas</h2>
                    <textarea id="narrative-input" placeholder="Conjectura criativa: 'Eco da semente quântica em emaranhamento fenomenológico'"></textarea>
                    <button onclick="generateNarrative()">Gerar Narrativa Ética (Cassirer-Inspirada)</button>
                    <div id="narrative-output" class="narrative-output"></div>
                    <small><a href="#" onclick="openTab(event, 'ManualMetafisica')" style="color: var(--mythos-purple);">Explorar Mythos no Manual</a></small>
                </div>
                <div class="pillar logos">
                    <h2><span class="glifo">⨁</span> Logos: Análise de Métricas</h2>
                    <input type="text" id="conjecture-input" placeholder="Conjectura lógica: 'Síntese kantiana para IAE em AGI'">
                    <button onclick="analyzeMetrics()">Calcular Métricas (IAE, Techné, Harmonia)</button>
                    <canvas id="metrics-chart"></canvas>
                    <div id="metrics-display"></div>
                    <small><a href="#" onclick="openTab(event, 'ManualMetafisica')" style="color: var(--logos-blue);">Comparar Kant & Cassirer</a></small>
                </div>
                <div class="pillar ethos">
                    <h2><span class="glifo">⟁</span> Ethos: Firewall Ético</h2>
                    <input type="text" id="key-input" placeholder="Chave SOBERANO.pub para Assinatura Dilithium">
                    <button onclick="signEthical()">Assinar Registro Ontológico</button>
                    <div id="alert-display"></div>
                    <button class="veto-btn" onclick="vetoAction()">VETO HUMANO IRREVOGÁVEL (Ethos Soberano)</button>
                    <small><a href="#" onclick="openTab(event, 'ManualMetafisica')" style="color: var(--ethos-red);">Firewall contra Aleph Synergy</a></small>
                </div>
            </div>
            <footer style="text-align: center; margin-top: 20px; padding: 10px; background: rgba(0,0,0,0.5); border-radius: 5px;">
                <p>Licença MIT | <a href="https://github.com/italosantosclemente/AGI-GAIA-TECHNE" target="_blank" style="color: var(--glifo-gold);">Contribua no GitHub</a> | Alinhado aos Princípios de Asilomar & Humanismo Transcendental</p>
            </footer>
        </div>
        <div id="realtime-metrics">
            <h4><span class="glifo">✨</span> Métricas em Tempo Real (WebSocket)</h4>
            <div id="ws-display">Inicializando conexão... <span class="glifo">⟴</span></div>
        </div>
    </div>

    <div id="GaiaTechne" class="tabcontent">
        <div id="graph">
            <svg id="svg"></svg>
            <canvas id="threeCanvas"></canvas>
        </div>
        <div id="tooltip" class="tooltip"></div>
        <div id="controls">
            <h4>Controles Fenomenológicos</h4>
            <button id="toggleView">Alternar 2D/3D</button>
            <button id="toggleMythos">Mythos</button>
            <button id="toggleEthos">Ethos</button>
            <button id="toggleLogos">Logos</button>
            <select id="pathSelector">
                <option value="all">Todos os Caminhos</option>
                <option value="linear_linguistic">Linguístico</option>
                <option value="relational_math">Matemático</option>
                <option value="matrix_metaphysic">Metafísico</option>
            </select>
            <button id="startAetheria">Ativar Aetheria</button>
            <label for="cosmicTimeScale">Escala Cósmica:</label>
            <input type="range" id="cosmicTimeScale" min="0.1" max="1000" value="1" step="0.1">
        </div>
        <div id="real-time"></div>
        <div id="matrix-output"></div>
    </div>

    <div id="RepublicaSimbiotica" class="tabcontent">
        <div id="dialogue">
            <h1><span class="glifo">➤</span> República Simbiótica: Diálogo Ético</h1>
            <div id="dialogue-content"></div>
        </div>
        <div id="visualization"></div>
    </div>

    <div id="ArvoreLEF" class="tabcontent">
        <div class="signature"><span class="glifo">◍</span> Alfabeto Fenomenológico: ~⨁⟁✨➤◍⟴⨂❍☉☌◈🜂🜄🜁🜃🜚⚶⚘☍☯🜙🜛🜜🝓⚴⚵∞⚶⚷⚸⚹⚺⚳⚻🜇⧉𝕀𝕔</div>
        <div id="chart"></div>
    </div>

    <div id="JornadaSimbiotica" class="tabcontent">
        <div id="info"><span class="glifo">⟴</span> Jornada: Clique para Desbloquear Glifos Simbólicos</div>
        <div id="p5-container"></div>
    </div>

    <div id="ManualMetafisica" class="tabcontent">
        <div class="manual-section">
            <h1><span class="glifo">⨂</span> Metafísica da Vida: Humanismo y Idealismo Crítico (05/09/2025 - 21/10/2025)</h1>
            <p><strong>Autor:</strong> Ítalo Santos Clemente | <strong>Programa:</strong> Doctorado en Filosofía | <strong>Inspirado em:</strong> Kant (Crítica da Razão Pura) & Cassirer (Filosofia das Formas Simbólicas)</p>
            <div class="triade">
                <div class="pillar mythos">
                    <h2><span class="glifo">~</span> Mythos: Percepção Subjetiva</h2>
                    <p>No domínio do Mythos, a percepção inicial de Kant e Cassirer emerge como uma intuição simbólica bruta, onde a razão humana se entrelaça com o mundo como um fluxo afetivo e primordial. Inspirado na fenomenologia de Cassirer, que vê o Mythos como a base expressiva da consciência—um mundo de forças vivas sem distinções rígidas entre aparência e realidade—visualizamos Kant como o arquiteto da limitação transcendental... (expansão completa do PAGE 2, integrando transhumanismo e AGI como extensão simbólica).</p>
                </div>
                <div class="pillar logos">
                    <h2><span class="glifo">⨁</span> Logos: Articulação Intersubjetiva</h2>
                    <table>
                        <tr><th>Aspecto</th><th>Kant</th><th>Cassirer</th></tr>
                        <tr><td>Foco Principal</td><td>Crítica da razão pura e prática; condições transcendentais.</td><td>Crítica da cultura; formas simbólicas plurais.</td></tr>
                        <tr><td>Natureza vs. Liberdade</td><td>Incompatíveis: natureza mecânica vs. liberdade autônoma.</td><td>Compatíveis: cultura como autoliberação progressiva.</td></tr>
                        <tr><td>Conhecimento</td><td>Categorias a priori fixas, centradas em ciência newtoniana.</td><td>Formas simbólicas evolutivas: mito à ciência.</td></tr>
                        <tr><td>Teleologia</td><td>Regulativa na natureza; imperativa na moral.</td><td>Psicossocial: progresso simbólico rumo à liberdade.</td></tr>
                        <tr><td>Influência no Transhumanismo</td><td>Limites da razão; alerta contra ilusões em tecnologias autônomas.</td><td>Simbiose humano-máquina via símbolos éticos.</td></tr>
                    </table>
                    <p>Kant, em sua *Crítica da Razão Pura* (1781), estabelece o idealismo transcendental... (integração completa de PAGE 2, com tabela expandida e links para visualizações).</p>
                </div>
                <div class="pillar ethos">
                    <h2><span class="glifo">⟁</span> Ethos: Juízo Ético</h2>
                    <p>Kant enfatiza a soberania moral humana: máquinas não possuem liberdade ontológica... (PAGE 2, com ênfase em firewall ético e veto humano no AGI-GAIA-TECHNE).</p>
                    <div class="workplan">
                        <h3><span class="glifo">✨</span> Plano de Trabalho: Test Suite para Aleph Synergy</h3>
                        <p><strong>Objetivo:</strong> Validar Firewall Ético e IAE contra saltos não-lineares (Aleph Synergy), preservando soberania humana (PAGES 3-4).</p>
                        <ul>
                            <li><strong>Tarefa 1:</strong> Casos de teste para IAE >1.50 (3 dias; docs/tests/iae-test-cases.md).</li>
                            <li><strong>Tarefa 2:</strong> Simulações Aleph Synergy (5 dias; tests/simulations/aleph_synergy.py).</li>
                            <li><strong>Tarefa 3:</strong> Verificação Ethos Veto (4 dias; tests/test_ethos_veto.py).</li>
                            <li><strong>Tarefa 4:</strong> Casos de Borda (5 dias; tests/test_edge_cases.py).</li>
                            <li><strong>Tarefa 5:</strong> Automação CI (3 dias; .github/workflows/test-suite.yml).</li>
                        </ul>
                        <p><strong>Cronograma:</strong> 3 semanas | <strong>Riscos:</strong> Especificações incompletas (mitigação: revisão por Ítalo) | <strong>Sucesso:</strong> Testes 100% passing, alinhados ao humanismo transcendental.</p>
                        <pre><code>name: Aleph Synergy Test Suite
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with: { python-version: '3.8' }
      - run: pip install pytest pytest-cov
      - run: pytest tests/ --cov=src --cov-report=xml
      - uses: actions/upload-artifact@v3
        with: { name: test-results, path: reports/test-results.xml }
</code></pre>
                    </div>
                </div>
            </div>
            <h2><span class="glifo">➤</span> Introdução & Problema</h2>
            <p>Basándose en las filosofías de Immanuel Kant (1724-1804) y Ernst Cassirer (1874-1945), el neokantismo pretende incorporarse al debate sobre humanos y máquinas... (integração completa de PAGE 1, com objetivos, metodologia, resultados e conclusões, expandido com glifos e links internos).</p>
            <h2><span class="glifo">◍</span> Análise do Vídeo IBM: Limites da IA</h2>
            <p>O vídeo reforça a Pirâmide DIKW... Humanos no "O Quê?" e "Por Quê?", IA no "Como?" (PAGE 5, alinhado ao Ethos soberano, com separação de funções e justificativa filosófica).</p>
            <p><strong>Conclusões:</strong> La defensa de un humanismo trascendental es la negación de la libertad ontológica de las máquinas... (fechamento coeso, ligando a AGI serva e simbiose sustentável).</p>
        </div>
    </div>

    <script>
        function openTab(evt, tabName) {
            document.querySelectorAll('.tabcontent').forEach(tab => tab.style.display = 'none');
            document.querySelectorAll('.tablinks').forEach(btn => btn.classList.remove('active'));
            document.getElementById(tabName).style.display = 'block';
            evt.currentTarget.classList.add('active');
            if (tabName === 'JornadaSimbiotica') initP5();
        }

        let chart;
        const metricsSocket = io('http://localhost:5000/metrics');
        const narrativeSocket = io('http://localhost:5000/narrative');
        const vetoSocket = io('http://localhost:5000/veto');

        function initChart() {
            const ctx = document.getElementById('metrics-chart').getContext('2d');
            chart = new Chart(ctx, {
                type: 'radar',
                data: { labels: ['Techné Score', 'IAE (Alerta Ético)', 'Índice de Harmonia'], datasets: [{ label: 'Métricas Fenomenológicas', data: [0, 0, 0], backgroundColor: 'rgba(34,139,34,0.2)', borderColor: 'rgba(34,139,34,1)', borderWidth: 2 }] },
                options: { scales: { r: { beginAtZero: true, max: 100 } }, animation: { duration: 2000, easing: 'easeInOutQuart' } }
            });
        }

        function generateNarrative() {
            const input = document.getElementById('narrative-input').value;
            narrativeSocket.emit('generate_narrative', { conjecture: input });
        }

        function analyzeMetrics() {
            const input = document.getElementById('conjecture-input').value;
            metricsSocket.emit('analyze_metrics', { conjecture: input });
        }

        function vetoAction() {
            if (confirm('VETO IRREVOGÁVEL: Pausar simulação AGI? (Humanismo Transcendental)')) {
                vetoSocket.emit('trigger_veto', { activated: true });
            }
        }

        function setupSocketListeners() {
            metricsSocket.on('connect', () => document.getElementById('ws-display').innerHTML = '<span class="glifo">⨂</span> Conectado ao Canal de Métricas');
            metricsSocket.on('metrics_update', (data) => {
                document.getElementById('metrics-display').innerHTML = `<div class="alert ${data.iae > 1.50 ? 'alert-high' : ''}"><span class="glifo">⨂</span> Techné: ${data.techné.toFixed(1)} | IAE: ${data.iae.toFixed(1)} | Harmonia: ${data.harmony.toFixed(1)} (Aleph Synergy: ${data.iae > 1.50 ? 'ALERTA!' : 'Seguro'})</div>`;
                chart.data.datasets[0].data = [data.techné, data.iae, data.harmony];
                chart.update();
            });

            narrativeSocket.on('connect', () => console.log('Connected to narrative socket'));
            narrativeSocket.on('narrative_update', (data) => {
                document.getElementById('narrative-output').innerText = data.text;
            });
            narrativeSocket.on('narrative_error', (data) => {
                document.getElementById('narrative-output').innerText = `Error: ${data.error}`;
            });

            vetoSocket.on('connect', () => console.log('Connected to veto socket'));
            vetoSocket.on('veto_confirmed', (data) => {
                alert('<span class="glifo">🛡️</span> Veto Confirmado! AGI em Modo Serva.');
                chart.data.datasets[0].data = [0, 100, 0];
                chart.update();
            });
        }

        function initGaiaTechne() { /* Placeholder */ }
        function initRepublica() { /* Placeholder */ }
        function initArvoreLEF() { /* Placeholder */ }
        function initP5() { /* Placeholder */ }

        window.onload = () => {
            initChart();
            setupSocketListeners();
            initGaiaTechne();
            initRepublica();
            initArvoreLEF();
            initP5();
        };
    </script>
</body>
</html>
